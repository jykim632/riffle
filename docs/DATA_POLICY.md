# Riffle 데이터 관리 정책

> 최종 업데이트: 2026-02-07

Riffle은 경제 라디오 스터디를 위한 폐쇄형 웹 애플리케이션입니다.
이 문서는 서비스에서 어떤 데이터를 수집하고, 어떻게 관리하는지 안내합니다.

---

## 1. 수집하는 데이터

### 계정 정보

| 항목 | 수집 시점 | 용도 |
|------|-----------|------|
| 이메일 주소 | 회원가입 | 로그인, 계정 식별 |
| 비밀번호 | 회원가입 | 로그인 인증 (암호화 저장) |
| 닉네임 | 회원가입 | 서비스 내 표시명 |
| Google 계정 정보 | Google 로그인 시 | 소셜 로그인 연동 |

### 서비스 이용 데이터

| 항목 | 수집 시점 | 용도 |
|------|-----------|------|
| 요약본 내용 | 제출 시 | 서비스 핵심 기능 |
| 제출 시각 | 제출 시 | 제출 이력 관리 |
| 시즌/주차 참여 기록 | 시즌 참여 시 | 멤버십 관리 |
| 초대 코드 사용 이력 | 회원가입 시 | 가입 경로 추적 |

### 웹 분석 (Vercel Analytics)

Riffle은 **Vercel Analytics**를 사용하여 서비스 이용 현황을 파악합니다.

- 페이지 조회 수, 방문자 수 등 **익명화된 통계**를 수집합니다
- 개인을 특정할 수 있는 정보는 수집하지 않습니다
- 쿠키 기반 추적이 아닌, 프라이버시 친화적 방식을 사용합니다
- 자세한 내용: [Vercel Analytics Privacy](https://vercel.com/docs/analytics/privacy-policy)

### 수집하지 않는 것

- IP 주소 (애플리케이션 수준에서 저장하지 않음)
- 위치 정보
- 기기 정보, 브라우저 핑거프린트
- 결제/금융 정보
- 검색 기록

---

## 2. 데이터 접근 범위

### 모든 멤버가 볼 수 있는 것

- 다른 멤버의 **닉네임**
- 다른 멤버의 **요약본** (제출된 것)
- **제출 현황** (누가 제출했는지)
- 시즌, 주차 정보

### 본인만 할 수 있는 것

- 본인 요약본 **수정/삭제**
- 본인 제출 내역 조회 ("내 제출" 페이지)

### 관리자만 할 수 있는 것

- 초대 코드 생성/관리
- 시즌/주차 생성 및 관리
- 멤버 추가/제거
- 멤버 역할 변경

---

## 3. 데이터 보호

### 인증 보안

- 비밀번호는 **bcrypt 해시**로 암호화 저장 (원본 저장 안 함)
- 최소 8자 이상 요구
- 세션은 암호화된 쿠키로 관리 (httpOnly, secure, sameSite)

### 접근 제어

- **Row Level Security (RLS)** — 데이터베이스 수준에서 접근 권한을 강제합니다
- 모든 데이터 조회/수정은 인증된 사용자만 가능합니다
- 요약본 수정/삭제는 작성자 본인만 가능합니다
- 관리 기능은 관리자 역할만 접근 가능합니다

### 보안 헤더

- 클릭재킹 방지 (X-Frame-Options)
- MIME 타입 스니핑 방지 (X-Content-Type-Options)
- 리퍼러 정책 적용 (strict-origin-when-cross-origin)

---

## 4. 데이터 보관 및 삭제

### 보관 기간

- 계정 정보 및 요약본은 **서비스 이용 기간 동안** 보관됩니다
- 시즌 종료 후에도 해당 시즌의 요약본은 유지됩니다

### 계정 삭제

계정 삭제 시 **익명화 후 보존** 정책을 적용합니다.

| 데이터 | 처리 방식 |
|--------|-----------|
| 계정 정보 (이메일, 비밀번호) | 완전 삭제 |
| 프로필 (닉네임, 역할) | 완전 삭제 |
| 요약본 | **내용 보존**, 작성자는 "탈퇴한 멤버"로 표시 |
| 시즌 참여 기록 | 정책 확정 중 |
| 초대 코드 이력 | 익명화 (사용자 정보만 제거) |

- 요약본은 스터디 공유 자산으로서 내용이 유지되며, 작성자 정보만 제거됩니다
- 탈퇴 후 요약본은 수정/삭제가 불가합니다
- 계정 삭제를 원할 경우 관리자에게 문의해주세요

### 백업

- 데이터베이스 백업은 Supabase Cloud에서 자동 관리됩니다

---

## 5. 제3자 서비스

| 서비스 | 용도 | 데이터 범위 |
|--------|------|-------------|
| [Supabase](https://supabase.com) | 데이터베이스, 인증 | 계정 정보, 서비스 데이터 전체 |
| [Vercel](https://vercel.com) | 웹 호스팅, 배포 | 웹 분석 (익명화) |
| [Google OAuth](https://accounts.google.com) | 소셜 로그인 | 이메일, 이름 (로그인 시) |

---

## 6. 문의

데이터 관련 문의사항은 스터디 운영자에게 연락해주세요.
