# 모바일 반응형 최적화

**날짜**: 2026-02-08
**커밋**: `efc4553` feat: 모바일 반응형 최적화 (Admin + 대시보드 헤더 + 티커)
**변경**: 13 files changed, +443 / -83

---

## 작업한 내용

### 1. Admin 모바일 사이드바
- `AdminSidebar`에서 네비 내용을 `AdminSidebarContent`로 분리
- 데스크톱: `hidden lg:block` + w-64 기존 사이드바
- 모바일: `MobileSidebar` — Sheet 컴포넌트(side=left) + 햄버거 메뉴 아이콘
- 링크 클릭 시 pathname 변경 감지로 Sheet 자동 닫힘
- shadcn Sheet 컴포넌트 신규 설치 (`@radix-ui/react-dialog` 기반)

### 2. Admin 레이아웃 반응형
- `layout.tsx`: 모바일 sticky 헤더(h-14, lg:hidden) + 반응형 패딩 `p-4 sm:p-6 lg:p-8`
- 5개 Admin 페이지 헤더: `text-2xl sm:text-3xl`, `flex-col gap-3 sm:flex-row` 레이아웃
- 4개 Admin 테이블: `overflow-x-auto` 가로 스크롤 래퍼 추가

### 3. 대시보드 헤더 모바일 네비게이션
- `MobileNav` 클라이언트 컴포넌트 — Sheet 기반 햄버거 메뉴 (sm:hidden)
- 네비 링크(대시보드/게시판/경제지표/관리자) + 바로가기(가이드/손경제 홈페이지) 포함
- 현재 페이지 active 표시, 외부 링크 지원
- 데스크톱 네비: `hidden sm:flex`로 sm 이상에서만 노출
- 공부방/가이드 아이콘 버튼도 `hidden sm:inline-flex`로 모바일에서 Sheet으로 이동

### 4. 경제지표 티커 마키 애니메이션
- 수동 스크롤(`overflow-x-auto`) → CSS 마키 자동 스크롤로 변경
- 컨텐츠 2벌 복제 + `translateX(0→-50%)` 무한 루프
- `ticker-track` 클래스: 40초/사이클, linear, infinite
- hover 시 `animation-play-state: paused`
- 서버 컴포넌트 유지 (순수 CSS, JS 불필요)

---

## 왜 했는지

Admin 페이지가 모바일에서 완전히 깨짐:
- 사이드바 `w-64` 고정 → 작은 화면에서 컨텐츠 밀림
- `p-8` 고정 패딩 → 모바일에서 콘텐츠 영역 너무 좁음
- 테이블 가로 오버플로우 처리 없음

대시보드 헤더도 320px 같은 극소형 화면에서 네비 링크 오버플로우 가능성 있었음.

경제지표 티커는 모바일에서 스크롤바가 보이는 게 UX적으로 아쉬워서 자동 스크롤로 전환.

---

## 논의/아이디어/고민

- **대시보드 헤더 햄버거 vs 텍스트 축소**: 처음엔 텍스트 크기/간격만 줄이는 걸로 계획했는데, 유저 피드백으로 햄버거 메뉴로 전환. 실제로 모바일에서 훨씬 깔끔.
- **티커 마키 속도**: 40초가 적당. 너무 빠르면 읽기 어렵고, 너무 느리면 의미 없음.
- **서버 vs 클라이언트 컴포넌트**: 티커는 순수 CSS로 처리해서 서버 컴포넌트 유지. 사이드바/네비는 Sheet 상태 관리 필요해서 클라이언트 컴포넌트.

---

## 결정된 내용

| 결정 | 이유 |
|------|------|
| Admin 브레이크포인트 `lg` (1024px) | 사이드바 w-64 + 콘텐츠 최소 너비 고려 |
| 대시보드 브레이크포인트 `sm` (640px) | 링크 3~4개라 sm 이상이면 충분 |
| 티커 CSS-only 마키 | JS 불필요, GPU 가속, SSR 호환 |
| Sheet 컴포넌트 (shadcn) | 이미 radix-ui 사용 중, 일관성 유지 |

---

## 느낀 점/난이도/발견

- **난이도**: 중하. 패턴이 명확하고 반복적. 다만 서버/클라이언트 컴포넌트 경계 잘 지켜야 함.
- **발견**: 나머지 페이지(게시판, 경제지표, 설정 등)는 이미 반응형 잘 적용되어 있었음. Admin만 집중적으로 빠져있었던 것.
- CSS 마키 트릭(콘텐츠 복제 + translateX -50%)은 JS 대비 훨씬 간결하고 성능 좋음.

---

## 남은 것/미정

- Admin 테이블 모바일 UX: 현재 가로 스크롤은 최소한의 처리. 카드 레이아웃 전환은 과도한 복잡도라 보류.
- 티커 속도 조절: 지표 개수에 따라 동적 속도 조절? 현재 고정 40초로 충분.

---

## 다음 액션

- 모바일 실기기 테스트 (특히 Safari iOS)
- 320px / 375px / 414px 뷰포트에서 전체 플로우 확인

---

## 서랍메모

- `AdminSidebarContent`의 `onNavigate` 콜백 패턴은 다른 Sheet 메뉴에서도 재사용 가능
- 티커 `aria-hidden`으로 복제 컨텐츠 접근성 처리 잊지 말 것
